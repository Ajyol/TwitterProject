<h2 class="topic-title">Messages for Topic: <%= topic.title %></h2>

<!-- Post New Message Form -->
<div class="message-form-container">
  <form action="/topics/<%= topic._id %>/messages" method="POST" class="message-form">
    <textarea name="content" rows="4" cols="50" placeholder="Write your message here..." required class="message-input"></textarea>
    <br>
    <button type="submit" class="post-btn">Post Message</button>
  </form>
</div>

<hr>

<!-- Messages Display -->
<% if (messages.length === 0) { %>
  <p class="no-messages">No messages yet.</p>
<% } else { %>
  <ul class="messages-list">
    <% messages.forEach(message => { %>
      <li class="message-item">
        <p><strong><%= message.author.username %>:</strong> <%= message.content %></p>
        <p><em class="message-date">Posted on: <%= message.postedDate.toDateString() %></em></p>
      </li>
    <% }) %>
  </ul>
<% } %>

<a href="/dashboard" class="back-to-dashboard">Back to dashboard</a>

<%- include('header-footer/footer') %>
